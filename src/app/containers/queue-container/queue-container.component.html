<ion-content class="header">
  <div class="header__action-buttons">
    <ion-fab vertical="top" horizontal="start" slot="fixed">
        <ion-fab-button (click)="updateSettings()" color="tertiary"> 
          <ion-icon name="time"></ion-icon>
        </ion-fab-button>
    </ion-fab>

      <ion-button 
        size="large" 
        (click)="addTask()" 
        color="primary"
        class="task-add"
        >
        <ion-icon name="add-outline"></ion-icon>
        <ion-ripple-effect></ion-ripple-effect>
      </ion-button>
      <!-- <ion-fab vertical="top">
        <ion-fab-button class="add-button" >
          <ion-icon name="add-circle-outline"></ion-icon>
        </ion-fab-button>
      </ion-fab> -->

      <ion-fab vertical="top" horizontal="end">
        <ion-fab-button (click)="addGoal()" color="tertiary">
          <ion-icon name="flag-outline"></ion-icon>
        </ion-fab-button>
      </ion-fab>
  </div>
  
<div class="scrolls">
  <ion-content class="queue-content">

    <mat-tab-group mat-align-tabs="center" *ngIf="tasksDay1$ | async as tasksDay1">
      <mat-tab label="Today - {{tasksDay1 | hoursSum}}">
        <ion-content class="queue-content-main">

          <ion-card class="queue-container-main__card">
            <div *ngIf="tasksDay1.length > 0; else noTasks">
              <div class="tasks-buttons">
                <ion-grid>
                  <ion-row>
                    <ion-col>
                      <ion-list lines="none" *ngIf="tags.length > 0; else noTags">
                        <ion-item>
                          <ion-select [formControl]="tagOptions" (ionChange)=" filterTasks()" class="filter-select">
                            <ion-select-option *ngFor="let tag of tags" [value]="tag">{{tag}}</ion-select-option>
                          </ion-select>
                        </ion-item>
                      </ion-list>
                      <ng-template #noTags>No Tags to Filter By Yet</ng-template>
                    </ion-col>
                    <ion-col *ngIf="tasksDay1.length > 0">
                      <ion-list lines="none">
                        <ion-item class="calendar-button">
                          <ion-button (click)="createEvents(tasksDay1)" [style.margin-left.rem]="4">
                            <ion-icon name="calendar-outline"></ion-icon>
                          </ion-button>
                        </ion-item>
                      </ion-list>
                    </ion-col>
                  </ion-row>
                </ion-grid>
              </div>
              <ion-card-content>
                <app-task-container (editTaskEmitter)="editTask($event)" (taskUpdate)="updateAllTasks($event)"
                  (deleteTask)="deleteTask($event)" (markedComplete)="markTaskComplete($event)" [tasks]="tasksDay1"
                  (createdIdea)="createIdea($event)">
                </app-task-container>
              </ion-card-content>
            </div>
          </ion-card>
          <ng-template #noTasks>

            <div class="no-tasks">
              <h1>Hey, you need to get some things queued up!</h1> 
              <img src="../../../assets/images/blanklist.jpg" alt="orange-clock">
            </div>



          </ng-template>

        </ion-content>


      </mat-tab>
      <ng-container *ngIf="tasksDay2$ | async as tasksDay2">
        <mat-tab label="Tomorrow - {{tasksDay2 | hoursSum}}" *ngIf="tasksDay2.length > 0">

          <ion-content>
            <ion-card class="queue-container-main__card">
              <div class="tasks-buttons">

                <ion-item class="columnHeaderChoiceSize">
                  <ion-label>Filter by Tag</ion-label>
                  <ion-select [formControl]="tagOptions" (ionChange)=" filterTasks()">
                    <ion-select-option *ngFor="let tag of tags" [value]="tag">{{tag}}</ion-select-option>
                  </ion-select>
                </ion-item>

              </div>
              <ion-card-content>
                <app-task-container *ngIf="tasksDay2" (editTaskEmitter)="editTask($event)"
                  (taskUpdate)="updateAllTasks($event)" (deleteTask)="deleteTask($event)"
                  (markedComplete)="markTaskComplete($event)" [tasks]="tasksDay2" (createdIdea)="createIdea($event)">
                </app-task-container>
              </ion-card-content>
            </ion-card>
          </ion-content>
        </mat-tab>
      </ng-container>

      <ng-container *ngIf="tasksDay3$ | async as tasksDay3">
        <mat-tab label="Day 3 - {{tasksDay3 | hoursSum}}" *ngIf="tasksDay3.length > 0">

          <ion-content>
            <ion-card class="queue-container-main__card">
              <div class="tasks-buttons">
                <ion-item class="columnHeaderChoiceSize">
                  <ion-label>Filter by Tag</ion-label>
                  <ion-select [formControl]="tagOptions" (ionChange)=" filterTasks()">
                    <ion-select-option *ngFor="let tag of tags" [value]="tag">{{tag}}</ion-select-option>
                  </ion-select>
                </ion-item>
              </div>
              <ion-card-content>
                <app-task-container *ngIf="tasksDay3" (editTaskEmitter)="editTask($event)"
                  (taskUpdate)="updateAllTasks($event)" (deleteTask)="deleteTask($event)"
                  (markedComplete)="markTaskComplete($event)" [tasks]="tasksDay3" (createdIdea)="createIdea($event)">
                </app-task-container>
              </ion-card-content>
            </ion-card>
          </ion-content>
        </mat-tab>
      </ng-container>

      <ng-container *ngIf="tasksDay4$ | async as tasksDay4">
        <mat-tab label="Day 4 - {{tasksDay4 | hoursSum}}" *ngIf="tasksDay4.length > 0">

          <ion-content>
            <ion-card class="queue-container-main__card">
              <div class="tasks-buttons">

                <ion-item class="columnHeaderChoiceSize">
                  <ion-label>Filter by Tag</ion-label>
                  <ion-select [formControl]="tagOptions" (ionChange)=" filterTasks()">
                    <ion-select-option *ngFor="let tag of tags" [value]="tag">{{tag}}</ion-select-option>
                  </ion-select>
                </ion-item>
              </div>
              <ion-card-content>
                <app-task-container *ngIf="tasksDay4" (editTaskEmitter)="editTask($event)"
                  (taskUpdate)="updateAllTasks($event)" (deleteTask)="deleteTask($event)"
                  (markedComplete)="markTaskComplete($event)" [tasks]="tasksDay4" (createdIdea)="createIdea($event)">
                </app-task-container>
              </ion-card-content>
            </ion-card>
          </ion-content>
        </mat-tab>
      </ng-container>

      <ng-container *ngIf="tasksDay5$ | async as tasksDay5">
        <mat-tab label="Day 5 - {{tasksDay5 | hoursSum}}" *ngIf="tasksDay5.length > 0">

          <ion-content>
            <ion-card class="queue-container-main__card">
              <div class="tasks-buttons">

                <ion-item class="columnHeaderChoiceSize">
                  <ion-label>Filter by Tag</ion-label>
                  <ion-select [formControl]="tagOptions" (ionChange)=" filterTasks()">
                    <ion-select-option *ngFor="let tag of tags" [value]="tag">{{tag}}</ion-select-option>
                  </ion-select>
                </ion-item>
              </div>
              <ion-card-content>
                <app-task-container *ngIf="tasksDay5" (editTaskEmitter)="editTask($event)"
                  (taskUpdate)="updateAllTasks($event)" (deleteTask)="deleteTask($event)"
                  (markedComplete)="markTaskComplete($event)" [tasks]="tasksDay5" (createdIdea)="createIdea($event)">
                </app-task-container>
              </ion-card-content>
            </ion-card>
          </ion-content>
        </mat-tab>
      </ng-container>

      <ion-fab>

      </ion-fab>
    </mat-tab-group>
  </ion-content>
</div>
