        <!-- (chartHover)="chartHovered($event)" 
           (chartClick)="chartClicked($event)" -->
           



<ion-content class="header-background" >
  <ion-segment  [(ngModel)]="type">
    <ion-segment-button class="main-segments" value="complete"  >
      <ion-label>Completed</ion-label>
    </ion-segment-button>
    <ion-segment-button class="main-segments" value="incomplete" >
      <ion-label>Incomplete</ion-label>
    </ion-segment-button>
  </ion-segment>

  <div [ngSwitch]="type">
    <ion-list>
      <ion-item *ngSwitchCase="'complete'">
  
          <ion-card  class="graph card-background" *ngIf="tasks.length > 0; else noComplete" >

            <ion-segment  [(ngModel)]="graphDate">
              <ion-segment-button class="secondary-segments" value="lastWeek"  >
                <ion-label>Last Week</ion-label>
              </ion-segment-button>
              <ion-segment-button class="secondary-segments" value="thisWeek" >
                <ion-label>This Week</ion-label>
              </ion-segment-button>
              <ion-segment-button class="secondary-segments" value="thisMonth" >
                <ion-label>This Month</ion-label>
              </ion-segment-button>
            </ion-segment>
            <ng-container [ngSwitch]="graphDate">
                <ng-container *ngSwitchCase="'lastWeek'">
                    <ion-card-content>
                      <ion-list>
                        <ion-item>
                          <ion-grid>
                            <ion-row>
                              <ion-col>
                                <h2 [style.color]="orange">Most Completed Task Type</h2>
                                <h4>{{stringifyVariations(lastWeekCompleteVariations[lastWeekCompleteVariations.length -1].variant)}}</h4>
                                <h6> <h4>{{lastWeekCompleteVariations[lastWeekCompleteVariations.length -1].amount}} Completions</h4></h6>
                              </ion-col>
                              <ion-col>
                                <h2 [style.color] = "blue">Least Completed Task Type</h2>
                                <h4>{{stringifyVariations(lastWeekCompleteVariations[0].variant)}}</h4>
                                <h6> <h4>{{lastWeekCompleteVariations[0].amount}} Completions</h4></h6>
                              </ion-col>
                            </ion-row>
                          </ion-grid>
                        </ion-item>
                        <ion-item>
                            <canvas  
                            baseChart 
                            height="1600em"
                            width="1000em"
                            [data]="pieLastWeekCompleteChartData" 
                            [labels]="pieLastWeekCompleteLabels" 
                            [chartType]="pieChartType"
                            [legend]="true"
                          >
                        </canvas>
                        </ion-item>
                      </ion-list> 
                  </ion-card-content>
                </ng-container>
                <ng-container *ngSwitchCase="'thisWeek'">
                  <ion-card-content>
                    <ion-list>
                      <ion-item>
                        <ion-grid>
                          <ion-row>
                            <ion-col>
                              <h2 [style.color]="orange">Most Completed Task Type</h2>
                              <h4>{{stringifyVariations(thisWeekCompleteVariations[thisWeekCompleteVariations.length -1].variant)}}</h4>
                              <h6> <h4>{{thisWeekCompleteVariations[thisWeekCompleteVariations.length -1].amount}} Completions</h4></h6>
                            </ion-col>
                            <ion-col>
                              <h2 [style.color] = "blue">Least Completed Task Type</h2>
                              <h4>{{stringifyVariations(thisWeekCompleteVariations[0].variant)}}</h4>
                              <h6> <h4>{{thisWeekCompleteVariations[0].amount}} Completions</h4></h6>
                            </ion-col>
                          </ion-row>
                        </ion-grid>
                      </ion-item>
                      <ion-item>
                        <canvas  
                          baseChart 
                          height="1600em"
                          width="1000em"
                          [data]="pieWeekCompleteChartData" 
                          [labels]="pieWeekCompleteLabels" 
                          [chartType]="pieChartType"
                          [legend]="true"
                        >
                      </canvas>
                      </ion-item>
                      </ion-list>
                </ion-card-content>
                </ng-container>

                <ng-container *ngSwitchCase="'thisMonth'">
                  <ion-card-content>
                    <ion-list>
                      <ion-item>
                        <ion-grid>
                          <ion-row>
                            <ion-col>
                              <h2 [style.color]="orange">Most Completed Task Type</h2>
                              <h4>{{stringifyVariations(thisMonthCompleteVariations[thisMonthCompleteVariations.length -1].variant)}}</h4>
                              <h6> <h4>{{thisMonthCompleteVariations[thisMonthCompleteVariations.length -1].amount}} Completions</h4></h6>
                            </ion-col>
                            <ion-col>
                              <h2 [style.color] = "blue">Least Completed Task Type</h2>
                              <h4>{{stringifyVariations(thisMonthCompleteVariations[0].variant)}}</h4>
                              <h6> <h4>{{thisMonthCompleteVariations[0].amount}} Completions</h4></h6>
                            </ion-col>
                          </ion-row>
                        </ion-grid>
                      </ion-item>
                      <ion-item>
                        <canvas  
                          baseChart 
                          height="1600em"
                          width="1000em"
                          [data]="pieMonthCompleteChartData" 
                          [labels]="pieMonthCompleteLabels" 
                          [chartType]="pieChartType"
                          [legend]="true"
                        >
                      </canvas>
                      </ion-item>
                      </ion-list>
                </ion-card-content>
                </ng-container>
            </ng-container>

        </ion-card>
        <ng-template #noComplete> 
          <ion-card [style.margin-top.em]="4" class="card-background">
            <ion-card-content>
              <h2>Not Enough Data For This Metric</h2>
            </ion-card-content>
          </ion-card>
          
        </ng-template>
      </ion-item>

      <ion-item *ngSwitchCase="'incomplete'">
        <ion-card class="graph card-background" *ngIf="tasks.length > 0; else noInComplete" >
    
              
            <ion-segment  [(ngModel)]="graphDate">
              <ion-segment-button class="secondary-segments" value="lastWeek"  >
                <ion-label>Last Week</ion-label>
              </ion-segment-button>
              <ion-segment-button class="secondary-segments" value="thisWeek" >
                <ion-label>This Week</ion-label>
              </ion-segment-button>
              <ion-segment-button class="secondary-segments" value="thisMonth" >
                <ion-label>This Month</ion-label>
              </ion-segment-button>
            </ion-segment>
            
            
            <ng-container [ngSwitch]="graphDate">
              <ng-container *ngSwitchCase="'lastWeek'">
                  <ion-card-content>
                    <canvas  
                      baseChart 
                      height="1600em"
                      width="1000em"
                      [data]="pieLastWeekInCompleteChartData" 
                      [labels]="pieLastWeekInCompleteLabels" 
                      [chartType]="pieChartType"
                      [legend] ="true"
                    >
                  </canvas>
                </ion-card-content>
              </ng-container>
              <ng-container *ngSwitchCase="'thisWeek'">
                <ion-card-content>
                  <canvas  
                    baseChart 
                    height="1600em"
                    width="1000em"
                    [data]="pieWeekInCompleteChartData" 
                    [labels]="pieWeekInCompleteLabels" 
                    [chartType]="pieChartType"
                    [legend] ="true"
                  >
                </canvas>
              </ion-card-content>
              </ng-container>
              <ng-container *ngSwitchCase="'thisMonth'">
                <ion-card-content>
                  <canvas  
                    baseChart 
                    height="1600em"
                    width="1000em"
                    [data]="pieMonthInCompleteChartData" 
                    [labels]="pieMonthInCompleteLabels" 
                    [chartType]="pieChartType"
                    [legend] ="true"
                  >
                </canvas>
              </ion-card-content>
  
              </ng-container>
            </ng-container>
          
        </ion-card>
        <ng-template #noInComplete>
          <ion-card [style.margin-top.em]="4" class="card-background">
            <ion-card-content>
              <h2>Not Enough Data For This Metric</h2>
            </ion-card-content>
          </ion-card>
          
        </ng-template>
      </ion-item>
    </ion-list>
  </div>


</ion-content>